# GK Smart Punching Bag

基于六维力传感器的智能AI沙袋应用，运行在涂鸦T5 IoT平台上。

## 功能特性

- **用户管理**: 扫码注册登录系统
- **个人信息**: 用户身高、体重、性别设置
- **火柴人显示**: 根据体型自动生成对应的火柴人形象
- **五边形战力图**: 显示用户在速度、爆发力、耐力、准确度、技巧方面的得分
- **打击可视化**: 实时显示沙袋打击状态和打击点位置
- **训练模式**: 多种训练模式选择（基础、速度、力量、耐力、准确度、技巧）
- **云端同步**: 通过涂鸦云平台同步训练数据

## 项目结构

```
apps/gk_bag/
├── CMakeLists.txt              # 项目构建配置
├── Kconfig                     # 内核配置选项
├── app_default.config          # 默认配置文件
├── README.md                   # 项目说明文档
├── config/                     # 硬件板子配置文件夹
├── include/                    # 头文件目录
│   ├── tuya_config.h          # 涂鸦配置文件
│   ├── app_gk_bag.h           # 主应用头文件
│   ├── app_display.h          # 显示管理头文件
│   └── app_sensors.h          # 传感器处理头文件
├── src/                        # 源码目录
│   ├── tuya_main.c            # 主程序入口
│   ├── app_gk_bag.c           # 主应用实现
│   ├── app_display.c          # 显示管理实现
│   ├── ui/                    # UI组件目录
│   │   ├── CMakeLists.txt     # UI构建配置
│   │   └── components/        # UI组件
│   │       ├── ui_login.h     # 登录界面组件
│   │       ├── ui_user_info.h # 用户信息输入组件
│   │       ├── ui_main_view.h # 主视图组件
│   │       ├── ui_punch_visual.h # 打击可视化组件
│   │       └── ui_training_mode.h # 训练模式组件
│   └── sensors/               # 传感器处理目录
│       └── app_sensors.c      # 传感器数据处理实现
└── assets/                    # 资源文件目录
```

## 开发计划

### 已完成

- [X] 项目结构搭建
- [X] 基础框架代码
- [X] 涂鸦IoT SDK集成
- [X] 传感器数据处理框架（预留算法接口）

### 待实现

- [ ] 用户扫码注册登录功能
- [ ] 用户信息输入界面（身高体重性别）
- [ ] 火柴人形象生成和五边形战力图显示
- [ ] 沙袋打击状态可视化界面（预留算法接口）
- [ ] 集中训练模式界面（预留模式接口）
- [ ] 六维力传感器实际算法集成
- [ ] 硬件适配和调试

## 技术栈

- **硬件平台**: 涂鸦T5 AI芯片
- **操作系统**: FreeRTOS
- **开发框架**: TuyaOpen SDK
- **图形界面**: LVGL
- **云平台**: 涂鸦IoT云平台
- **传感器**: 6轴力/力矩传感器
- **网络**: Wi-Fi + 蓝牙

## 编译和运行

1. 确保已安装TuyaOpen开发环境
2. 配置产品ID和授权密钥在 `include/tuya_config.h`
3. 编译项目：
   ```bash
   cd apps/gk_bag
   make menuconfig  # 可选：配置项目选项
   make
   ```
4. 烧录到T5设备并运行

## 数据点定义

| DP ID | 名称     | 类型  | 说明                |
| ----- | -------- | ----- | ------------------- |
| 1     | 电源开关 | Bool  | 设备开关状态        |
| 2     | 训练模式 | Enum  | 当前训练模式        |
| 3     | 用户身高 | Value | 用户身高(cm)        |
| 4     | 用户体重 | Value | 用户体重(kg)        |
| 5     | 用户性别 | Enum  | 用户性别(0:女,1:男) |
| 6     | 打击力度 | Value | 当前打击力度        |
| 7     | 打击次数 | Value | 总打击次数          |
| 8     | 训练时长 | Value | 训练持续时间        |
| 9-13  | 战力得分 | Value | 五项能力得分(0-100) |

## 算法接口预留

项目中预留了以下算法接口，可在后续开发中替换为实际算法：

1. `app_sensors_calculate_impact_point()` - 打击点坐标计算
2. `app_sensors_detect_punch()` - 打击检测算法
3. `app_process_punch_data()` - 打击数据处理算法

## 许可证

版权所有 (c) 2025 GK Tech. 保留所有权利。
